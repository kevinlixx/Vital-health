<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>vital health</title>
        <script src="https://kit.fontawesome.com/79e6024c63.js" crossorigin="anonymous"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Inter:wght@300;500&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="./css/style-admin.css">
        <link rel="stylesheet" href="./css/tablet-admin.css" media="screen and (min-width: 600px)"/>
        <link rel="stylesheet" href="./css/desktop-admin.css" media="screen and (min-width: 800px)"/>
    </head>
<body>
    <header>
        <section class="section_header">
            <figure class="figure_header"> 
                <img 
                src="./img/logo_header.svg  " 
                alt="logo de vital health"
                />  
                <figcaption></figcaption> 
            </figure>
            <div class="menu menu-header">
                    <figure id="btn_menu">
                        <img src="./img/menu.svg" alt="menu"/>  
                        <figcaption></figcaption> 
                    </figure>                
                <div id="back_menu"></div>
                <nav id="nav" class="menu-section">
                    <img src="img/logo_header.svg" alt="">
                    <ul> 
                        <li><a href="./index-admin.html">Inicio</a></li>
                        <li><a href="./registros.html">Registros</a></li>
                        <li><a href="javascript:abrirIngreso()" id="selected">Iniciar sesion</a></li>
                    </ul>
                </nav>
            </div>
        </a>
    </header>
    <main>
        <div class="container--ingreso">
            <!-- ventana que emerge para iniciar sesion -->
            <div class="div--ventana" id="ventIngre">
                <div class="cerrar-ventana"><a href="javascript:cerrarIngreso()"><i class="fa-solid fa-xmark"></i></a></div>
                <div>
                    <h2 class="title--ventana">Iniciar sesión</h2>
                    <input type="email" name="" placeholder="correo electronico" id="" class="input--inicio">
                    <input type="password" name="" placeholder="contraseña" id="" class="input--inicio">
                    <input type="button" type="submit" value="ingresar" class="input--button">
                    <a href="javascript:abrirRegistro()" class="opcion--registro">registrarse</a>
                </div>
            </div>
            <!-- ventana que emerge para registrarse -->
            <div class="div--ventanaRegistro" id="ventRegis">
                <div class="cerrar-ventana"><a href="javascript:cerrarRegistro()"><i class="fa-solid fa-xmark"></i></a></div>
                <form action="/registro" method="post">
                    <h2 class="title--ventana">Registrarse</h2>
                    <div class="div--registro">
                        <input type="text" id="firstName" placeholder="primer nombre"  class="input--registro">
                        <input type="text" id="secondName" placeholder="segundo nombre" class="input--registro">
                    </div>
                    <div class="div--registro">
                        <input type="text" id="firstLastName" placeholder="primer apellido"  class="input--registro">
                        <input type="text" id="secondLastName" placeholder="segundo apellido"  class="input--registro">
                    </div>
                    <input type="email" name="" placeholder="correo electronico" id="email" class="input--inicio">
                    <input type="password" name="" placeholder="contraseña" id="password" class="input--inicio">
                    <input type="password" name="" placeholder="confirmar contraseña" id="" class="input--inicio">
                    <input type="button" type="submit" id="registrar" value="registrar" class="input--button" onclick="registroAdmin()">
                </form>
            </div>
        </div>
        <div id="background_main">
        
    </div>
    </main>
    <footer class="pie-pagina">
        <div class="footer_copy">
             <small>&copy; 2023 <b>Vital Health</b> - Todos los Derechos Reservados.</small>
        </div>
     </footer>
     <script src="js/script.js"></script>



     <script>
        /* funcion para el ingreso */
        function abrirIngreso(){
            document.getElementById("ventIngre").style.display="flex"
            nav.style.right = "-250px";
            background_menu.style.display = "none";
            document.getElementById("ventRegis").style.display="none"
            document.getElementById("background_main").classList.add("borroso");
        }
        function cerrarIngreso(){
            document.getElementById("ventIngre").style.display="none"
        }
        /* funcion para el registro */
        function abrirRegistro(){
            document.getElementById("ventRegis").style.display="flex"
            document.getElementById("ventIngre").style.display="none"
        }
        function cerrarRegistro(){
            document.getElementById("ventRegis").style.display="none"
        }
        function use(database) {
            const mongoClient = require("mongodb").MongoClient;

            // Conectarse a la base de datos
            mongoClient.connect("mongodb+srv://vital-health:5yCgL5wLGdlrOkQq@vitalbd.zrbjbcw.mongodb.net/", {
                useNewUrlParser: true,
                useUnifiedTopology: true,
            }, (err, client) => {
                if (err) {
                console.log(err);
                return;
                }

                // Obtener la colección
                db = client.db(database);
            });
            }

        /* conecion a la base de datos */
        function registroAdmin() {

            const firstName = document.getElementById("firstName").value;
            const secondName = document.getElementById("secondName").value;
            const firstLastName = document.getElementById("firstLastName").value;
            const secondLastName = document.getElementById("secondLastName").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            db.usuarios-admin.insertOne({
                Primer_nombre: firstName,
                segundo_nombre: secondName,
                Primer_apellido: firstLastName,
                segundo_apellido: secondLastName,
                correo_electronico: email,
                contrasena: password,
            });
            }

// Evento de clic del botón "Guardar"
document.getElementById("registrar").addEventListener("click", registroAdmin);

     </script>
</body>
</html>